<simply:FlatWindow
	x:Class="EDictionary.Core.Views.MainWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:toolkit="http://schemas.xceed.com/wpf/xaml/toolkit"
	xmlns:control="clr-namespace:EDictionary.Controls;assembly=EDictionary.Controls"
	xmlns:simply="clr-namespace:Simply;assembly=FlatWindow"
	mc:Ignorable="d"
	WindowStartupLocation="CenterScreen"
	MinHeight="{Binding WindowMinimumHeight}"
	MinWidth="{Binding WindowMinimumWidth}"
	ResizeMode="CanResizeWithGrip"
	Height="460"
	Width="650"
	>

	<Window.Resources>
		<SolidColorBrush x:Key="WindowBackground" Color="#2c3e50" />
		<SolidColorBrush x:Key="CaptionColor" Color="White" />
	</Window.Resources>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="20"/>
			<RowDefinition Height="50"/>
			<RowDefinition Height="40"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition MinWidth="135" Width="135"/>
			<ColumnDefinition MinWidth ="250" Width="*"/>
		</Grid.ColumnDefinitions>

		<StackPanel Grid.Row="2" Grid.Column="0" Orientation="Horizontal">
			<TextBox x:Name="txtSearch"
				Text="{Binding CurrentWord, Mode=OneWayToSource, UpdateSourceTrigger=PropertyChanged}"
				Margin="10,0,-1,0"
				VerticalAlignment="Center">

				<TextBox.InputBindings>
					<KeyBinding Command="{Binding SearchFromInputCommand}" Key="Enter"/>
					<!--<KeyBinding Command="{Binding UpdateWordlistIndexCommand}"/>-->

					<KeyBinding Key="Tab" Command="{Binding TabKeyCommand}"/>
				</TextBox.InputBindings>
			</TextBox>

			<Button x:Name="btnSearch"
				Command="{Binding SearchFromInputCommand}"
				Style="{StaticResource btnSearch}"
				Margin="0,9" RenderTransformOrigin="0.364,0.591" MouseEnter="btnSearch_MouseEnter"/>

		</StackPanel>

		<Grid Grid.Row="3" Grid.Column="0" Margin="10,0,10,10">

			<Grid.RowDefinitions>
				<!-- Make bottom listview fix height -->
				<RowDefinition Height="*" />
				<RowDefinition Height="Auto" />
			</Grid.RowDefinitions>

			<control:ExpandedListView x:Name="lbxWordList"
				Grid.Row="0"
				TopIndex="{Binding WordListTopIndex}"
				SelectedItem="{Binding HighlightedWord}"
				ItemsSource="{Binding WordList}"
				Margin="0, 10, 0, 10">

				<!--<control:ExpandedListView.InputBindings>
				<MouseBinding
							MouseAction="LeftDoubleClick"
							Command="{Binding SearchFromHighlightCommand}" />
			</control:ExpandedListView.InputBindings>-->
			</control:ExpandedListView>

			<control:ExpandedListView x:Name="lbxOtherResult"
				Grid.Row="1"
				SelectedItem="{Binding HighlightedOtherResult}"
				ItemsSource="{Binding OtherResults}"
				Height="65"
				VerticalAlignment="Bottom">
			</control:ExpandedListView>
		</Grid>


		<StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" Margin="10,0,10,0">

			<Button x:Name="btnPrevHistory"
				Command="{Binding PreviousHistoryCommand}"
				Style="{StaticResource btnPrevHistory}"
				RenderTransformOrigin="-2.227,-0.318 ">
			</Button>

			<Button x:Name="btnNextHistory"
				Command="{Binding NextHistoryCommand}"
				Style="{StaticResource btnNextHistory}"
				Margin="10, 0, 0, 0"
				RenderTransformOrigin="-3.955,-0.455">
			</Button>

			<Button x:Name="btnNAmE"
				Command="{Binding PlayNAmEAudioCommand}"
				Style="{StaticResource btnNAmE}"
				Margin="30, 0, 0, 0"
				RenderTransformOrigin="0,0">
			</Button>

			<Button x:Name="btnBrE"
				Command="{Binding PlayBrEAudioCommand}"
				Style="{StaticResource btnBrE}"
				Margin="10, 0, 10, 0"
				RenderTransformOrigin="0,0">
			</Button>

			<Button
					 Style="{StaticResource ButtonBaseStyle}"
					 Content="S"
					 Command="{Binding OpenSettingCommand}">
			</Button>

			<Button
					 Style="{StaticResource ButtonBaseStyle}"
					 Content="A"
					 Command="{Binding OpenAboutCommand}">
			</Button>

		</StackPanel>

		<control:ExpandedRichTextBox x:Name="rtxDefinition"
			Grid.Row="3" Grid.Column="1"
			SelectedWord="{Binding SelectedWord, Mode=OneWayToSource}"
			Text="{Binding Definition}"
			Margin="10, 10, 10, 10"
			Height="Auto">

			<control:ExpandedRichTextBox.InputBindings>
				<MouseBinding
							Gesture="LeftDoubleClick"
							Command="{Binding SearchFromSelectionCommand}" />
			</control:ExpandedRichTextBox.InputBindings>

			<FlowDocument/>
		</control:ExpandedRichTextBox>

		<Label x:Name="Logo" Content="Free English Ditionary" Grid.Column="3" Width="259" FontSize="25" FontFamily="Segoe UI Semilight" Foreground="#bdc3c7" RenderTransformOrigin="0.411,1.266" Grid.RowSpan="3" HorizontalContentAlignment="Center" HorizontalAlignment="Center" Margin="82.8,0,166.2,39.6"/>
	  <Image x:Name="Icon" Source="../Resources/E-Dictionary.ico" HorizontalAlignment="Left" Height="35" Margin="0,-25,0,0" VerticalAlignment="Top" Width="38" RenderTransformOrigin="1.502,1.694" Grid.ColumnSpan="3"/>
		<Label x:Name="Title" Content="E-Dictionary" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="32,-25,0,0" FontSize="15" Foreground="#FFBDC3C7"/>
	</Grid>
</simply:FlatWindow>
